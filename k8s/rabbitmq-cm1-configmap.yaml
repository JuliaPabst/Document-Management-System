apiVersion: v1
data:
  rabbitmq.conf: |
    # RabbitMQ Configuration for Document Management System

    # Logging
    log.console.level = info
    log.file.level = info

    # Enable management plugin
    management.tcp.port = 15672

    # Auto-load definitions on startup
    management.load_definitions = /etc/rabbitmq/definitions.json

    # Network configuration
    listeners.tcp.default = 5672

    # Memory and disk limits
    vm_memory_high_watermark.relative = 0.6
    disk_free_limit.relative = 2.0

    # Queue settings
    queue_master_locator = min-masters
kind: ConfigMap
metadata:
  annotations:
    use-subpath: "true"
  labels:
    io.kompose.service: rabbitmq
  name: rabbitmq-cm1
